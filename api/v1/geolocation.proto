syntax = "proto3";
package api.v1;

import "google/protobuf/timestamp.proto";

service GeolocationService {
  rpc CreateGeolocation(CreateGeolocationRequest) returns (CreateGeolocationResponse) {}

  rpc GetVehiclesByRoute(GetVehiclesByRouteRequest) returns (GetVehiclesByRouteResponse) {}
  rpc GetVehiclesByStation(GetVehiclesByStationRequest) returns (GetVehiclesByStationResponse) {}

  rpc ListGeolocationByBounding(ListGeolocationByBoundingRequest) returns (ListGeolocationByBoundingResponse) {}
}

message CreateGeolocationRequest {
  float degree = 1;
  float latitude = 2;
  float longitude = 3;
  float speed = 4;
  int64 vehicle_id = 5;
  int64 variant_id = 6;
  google.protobuf.Timestamp timestamp = 7;
}

message CreateGeolocationResponse {
  Geolocation geolocation = 1;
}

message GetVehiclesByRouteRequest {
  float route_id = 1;
}

message GetVehiclesByRouteResponse {
  repeated Vehicle vehicles = 1;
}

message GetVehiclesByStationRequest {
  float station_id = 1;
}

message GetVehiclesByStationResponse {
  repeated Vehicle vehicles = 1;
}

message ListGeolocationByBoundingRequest {
  float latitude = 1;
  float longitude = 2;
  float width = 3;
  float height = 4;
}

message ListGeolocationByBoundingResponse {
  repeated Geolocation geolocations = 1;
}

message Vehicle {}

message Geolocation {
  float degree = 1;
  float latitude = 2;
  float longitude = 3;
  float speed = 4;
  int64 vehicle_id = 5;
  int64 variant_id = 6;
  google.protobuf.Timestamp timestamp = 7;
}
